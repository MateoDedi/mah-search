<%- include('partials/header'); -%>

  <ul class="jobs">

  </ul>

  <%- include('partials/footer'); -%>

    <script>
      async function fetchData() {
        try {
          const response = await fetch('/list-jobs');
          const data = await response.json();
          console.log(data);
          const jobsList = document.querySelector('.jobs');

          data.forEach(job => {
            const listItem = document.createElement('li');
            listItem.classList.add('recipe');

            const title = document.createElement('h4');
            title.textContent = job.jobTitle;

            const company = document.createElement('p');
            company.textContent = job.company;

            listItem.appendChild(title);
            listItem.appendChild(company);

            jobsList.appendChild(listItem);
          });

        } catch (error) {
          console.error('Error fetching data:', error);
        }
      }
      fetchData();
    </script>